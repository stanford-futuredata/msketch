import solver
import numpy as np


def gen_power(i):
    def power(x):
        return x**i
    return power


def main():
    k = 7
    funs = [gen_power(i) for i in range(k)]
    cs = np.zeros(k)
    mus_occ = np.array([
        1.0,
        0.34527663812071524,
        0.14342633854451442,
        0.072471731097616371,
        0.043298002422695228,
        0.029257157680262404,
        0.021534352301673668
    ])

    mus_mix = np.array([
        1.0,
        0.10011253701046553,
        0.035044731594017983,
        0.011971524582168699,
        0.0045885146781802933,
        0.0018431645335124079,
        0.00077794706985163616,
        0.0003420970888463821,
        0.00015629829546491593
    ])

    mus_occ = np.array([
        1.0,
        0.16697417054330901,
        0.062865664670922625,
        0.03300482612534044,
        0.020461720216716581,
        0.014046570116995484,
        0.010356997858492523
    ])
    s = solver.Solver(
        funs,
        mus_mix,
        0.00, 1.0
    )
    s.set_verbose(True)
    s.solve(20)


if __name__ == "__main__":
    main()
